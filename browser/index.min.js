var n={d:(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},t={};function e(n,t){function e(t){return[n[0]+t[0],n[1]+t[1]]}return void 0===t?e:e(t)}function r(n){return[-n[0],-n[1]]}function o(n,t,e){function r(e){return[e[0]*t-e[1]*n,e[0]*n+e[1]*t]}return void 0===e?r:r(e)}function u(n,t){return[t*n[0],t*n[1]]}function c(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}n.d(t,{j:()=>ye,a:()=>Oe});const{cos:s,sin:i,atan2:f}=Math;function l(n){const t=n[0];n=n.map(e(r(t)));const[l,a]=[n[3][0],n[3][1]],h=f(a,l),g=(n=n.map(o(i(-h),s(-h))))[3][0];n=n.map((n=>u(n,1/g)));const d=n[1],p=[1-n[2][0],-n[2][1]];return{α:f(d[1],d[0]),β:f(p[1],p[0]),s0:3*c(d),s1:3*c(p),L:g,rot:h,p:t}}function a(n,t,e=16){if(t[0]===t[1])return 0;const{weights:r,abscissas:o}=h[e],[u,c]=t;let s=0;const i=(c-u)/2,f=(c+u)/2;for(let t=0;t<=e-1;t++)s+=r[t]*n(i*o[t]+f);return i*s}const h={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]},64:{weights:[.048690957009139724,.048690957009139724,.04857546744150343,.04857546744150343,.048344762234802954,.048344762234802954,.04799938859645831,.04799938859645831,.04754016571483031,.04754016571483031,.04696818281621002,.04696818281621002,.046284796581314416,.046284796581314416,.04549162792741814,.04549162792741814,.044590558163756566,.044590558163756566,.04358372452932345,.04358372452932345,.04247351512365359,.04247351512365359,.04126256324262353,.04126256324262353,.03995374113272034,.03995374113272034,.038550153178615626,.038550153178615626,.03705512854024005,.03705512854024005,.035472213256882386,.035472213256882386,.033805161837141606,.033805161837141606,.03205792835485155,.03205792835485155,.030234657072402478,.030234657072402478,.028339672614259483,.028339672614259483,.02637746971505466,.02637746971505466,.024352702568710874,.024352702568710874,.022270173808383253,.022270173808383253,.02013482315353021,.02013482315353021,.017951715775697343,.017951715775697343,.015726030476024718,.015726030476024718,.013463047896718643,.013463047896718643,.011168139460131128,.011168139460131128,.008846759826363947,.008846759826363947,.006504457968978363,.006504457968978363,.004147033260562468,.004147033260562468,.001783280721696433,.001783280721696433],abscissas:[-.024350292663424433,.024350292663424433,-.07299312178779904,.07299312178779904,-.12146281929612056,.12146281929612056,-.16964442042399283,.16964442042399283,-.21742364374000708,.21742364374000708,-.2646871622087674,.2646871622087674,-.31132287199021097,.31132287199021097,-.3572201583376681,.3572201583376681,-.4022701579639916,.4022701579639916,-.4463660172534641,.4463660172534641,-.48940314570705296,.48940314570705296,-.5312794640198946,.5312794640198946,-.571895646202634,.571895646202634,-.6111553551723933,.6111553551723933,-.6489654712546573,.6489654712546573,-.6852363130542333,.6852363130542333,-.7198818501716109,.7198818501716109,-.7528199072605319,.7528199072605319,-.7839723589433414,.7839723589433414,-.8132653151227975,.8132653151227975,-.8406292962525803,.8406292962525803,-.8659993981540928,.8659993981540928,-.8893154459951141,.8893154459951141,-.9105221370785028,.9105221370785028,-.9295691721319396,.9295691721319396,-.9464113748584028,.9464113748584028,-.9610087996520538,.9610087996520538,-.973326827789911,.973326827789911,-.983336253884626,.983336253884626,-.9910133714767443,.9910133714767443,-.9963401167719553,.9963401167719553,-.9993050417357722,.9993050417357722]}};function g(n){return n[n.length-1]}function d(n){const t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,n,!1),Array.from(new Uint8Array(t))}function p(n){return d(n).map(b).join("")}function b(n){let t=n.toString(2);for(;t.length<8;t="0"+t);return t}function m(n){const t=d(n),e=t[0],r=t[1],o=e>>7,u=((127&e)<<4)+((240&r)>>4),c=0===u?0:16,s=0===u?u-1022:u-1023,i=t.slice(1);return i[0]=(15&r)+c,{sign:o,exponent:s,significand:i}}function N(n){return m(n).significand}function v(n){return Math.log2(n&-n)}function T(n){if(0===n||!Number.isFinite(n))return NaN;const t=N(n),e=t.length;for(let n=e-1;n>=0;n--){if(0===t[n])continue;const r=v(t[n]);if(Number.isFinite(r))return 8*(e-n-1)+r}return NaN}function w(n){return n>=128?7:n>=64?6:n>=32?5:n>=16?4:n>=8?3:n>=4?2:n>=2?1:n>=1?0:NaN}function y(n){if(0===n||!Number.isFinite(n))return NaN;const t=N(n),e=t.length;for(let n=0;n<e;n++){const r=w(t[n]);if(Number.isFinite(r))return 8*(e-n-1)+r}return NaN}function M(n){return m(n).exponent}function O(n){if(0===n||!Number.isFinite(n))return NaN;const t=M(n);return y(n)-52+t}function I(n){const t=n.slice(),e=t.length;if(1===e)return t;let r=t[e-1],o=e;for(let n=e-2;n>=0;--n){const e=r,u=t[n];r=e+u;const c=u-(r-e);c&&(t[--o]=r,r=c)}let u=0;for(let n=o;n<e;++n){const e=t[n],o=r;r=e+o;const c=o-(r-e);c&&(t[u++]=c)}return t[u++]=r,t.length=u,t}function x(n,t){const e=(2**(53-t)+1)*n;return e-(e-n)}const E=g,S=I;function P(n,t){if(n=S(n),0===E(n))return[0];const e=O(n[n.length-1]);let r=e,o=n.length-1;for(;o>0;){const u=O(n[o-1]);if(e-u>t)break;r=u,o--}const u=Math.min(t-(e-r),53);let c=n[o];c=x(c,u);const s=n.slice(o);return s[0]=c,s}function B(n){let t=n[0];for(let e=1;e<n.length;e++)t+=n[e];return t}function D(n,t){const e=n.length,r=t.length;let o=0,u=0;const c=[];for(;o<e&&u<r;)0!==n[o]?0!==t[u]?Math.abs(n[o])<=Math.abs(t[u])?(c.push(n[o]),o++):(c.push(t[u]),u++):u++:o++;for(;o<e;)c.push(n[o]),o++;for(;u<r;)c.push(t[u]),u++;if(0===c.length)return[0];const s=c.length;if(1===s)return c;const i=[],f=c[1],l=c[0];let a=f+l;const h=l-(a-f);0!==h&&i.push(h),u=0;for(let n=2;n<s;n++){const t=c[n],e=a+t,r=e-a,o=a-(e-r)+(t-r);0!==o&&i.push(o),a=e}return 0===a&&0!==i.length||i.push(a),i}const L=134217729;function A(n,t){const e=n.length;let r;const o=n[0];let u=o*t;const c=L*o,s=c-(c-o),i=o-s,f=L*t,l=f-(f-t),a=t-l,h=[],g=i*a-(u-s*l-i*l-s*a);0!==g&&h.push(g);for(let o=1;o<e;o++){const e=n[o],c=e*t,s=L*e,i=s-(s-e),f=e-i,l=L*t,a=l-(l-t),g=t-a,d=f*g-(c-i*a-f*a-i*g),p=u+d,b=p-u,m=u-(p-b)+(d-b);0!==m&&h.push(m),r=p;const N=c+r,v=r-(N-c);0!==v&&h.push(v),u=N}return 0===u&&0!==h.length||h.push(u),h}function F(n,t){const e=t.length;let r;const o=t[0];let u=o*n;const c=L*o,s=c-(c-o),i=o-s,f=L*n,l=f-(f-n),a=n-l,h=[],g=i*a-(u-s*l-i*l-s*a);0!==g&&h.push(g);for(let o=1;o<e;o++){const e=t[o],c=e*n,s=L*e,i=s-(s-e),f=e-i,l=L*n,a=l-(l-n),g=n-a,d=f*g-(c-i*a-f*a-i*g),p=u+d,b=p-u,m=u-(p-b)+(d-b);0!==m&&h.push(m),r=p;const N=c+r,v=r-(N-c);0!==v&&h.push(v),u=N}return 0===u&&0!==h.length||h.push(u),h}const z=A,_=D;function j(n,t){let e=[0];for(let r=0;r<n.length;r++)e=_(e,z(t,n[r]));return e}function $(n){const t=n.length,e=new Array(t);for(let r=0;r<t;r++)e[r]=-n[r];return e}const C=$,k=D;function V(n,t){const e=C(t);return k(n,e)}function q(n){const t=I(n);if(0===g(t))return 0;const e=t[t.length-1],r=t[0];return M(e)-M(r)+(53-T(r))}const Y=j,H=P,R=q,U=V,G=B;function J(n,t){const e=n.length;let r=t;const o=[];for(let t=0;t<e;t++){const e=n[t],u=r+e,c=u-r,s=r-(u-c)+(e-c);0!==s&&o.push(s),r=u}return 0===r&&0!==o.length||o.push(r),o}function K(n,t){const e=n+t,r=e-n;return[n-(e-r)+(t-r),e]}const Q=K,W=J,X=D;function Z(n){let t=[0];for(let e=0;e<n.length;e++){const r=n[e];t=1===r.length?1===t.length?Q(t[0],r[0]):W(t,r[0]):1===t.length?W(r,t[0]):X(t,r)}return t}const nn=$,tn=D,en=I,rn=J,on=Z,un=A,cn=V,sn=Math.sign;function fn(n,t){n=en(n);const e=(t=en(t))[t.length-1];if(1===t.length){if(0===e)throw new Error("division by zero");if(1===e)return{div:n,rem:[0]};if(-1===e)return{div:nn(n),rem:[0]}}const r=sn(n[n.length-1]);if(0===r)return{div:[0],rem:[0]};const o=sn(e),u=[];let c=0;for(;;){const r=[];for(let o=n.length-1;o>=0;o--){const c=n[o],s=Math.round((c-c%e)/e);if(r.push(un(t,s)),0===s)break;u.push(s)}if(n=en(cn(n,on(r))),c===u.length)break;c=u.length}let s=n,i=[0];for(let n=0;n<u.length;n++)i=rn(i,u[n]);i=en(i);const f=sn(s[s.length-1]);return 0!==f&&f!==r&&(r>0?o>0?(i=rn(i,-1),s=tn(s,t)):(i=rn(i,1),s=tn(s,nn(t))):r<0&&(o>0?(i=rn(i,1),s=tn(s,nn(t))):(i=rn(i,-1),s=tn(s,t)))),{div:i,rem:s}}const ln=fn,an=fn,hn=$;function gn(n,t){const e=n-t,r=n-e;return[n-(e+r)+(r-t),e]}const dn=134217729;function pn(n,t){const e=n*t,r=dn*n,o=r-(r-n),u=n-o,c=dn*t,s=c-(c-t),i=t-s;return[u*i-(e-o*s-u*s-o*i),e]}const bn=j,mn=pn,Nn=A,vn=K,Tn=J,wn=D,yn=j,Mn=pn,On=A,In=I;function xn(n){let t=n[0];for(let e=1;e<n.length;e++){const r=n[e];t=1==r.length?1===t.length?Mn(t[0],r[0]):On(t,r[0]):1===t.length?On(r,t[0]):yn(r,t)}return In(t)}const En=j,Sn=xn,Pn=I;function Bn(n,t){return!function(n,t){if(0===n||0===t)return!0;Math.abs(t)>Math.abs(n)&&([n,t]=[t,n]);const e=T(n),r=y(t);return e+(M(n)-M(t))>r}(n,t)}const Dn=D,Ln={fastTwoDiff:function(n,t){const e=n-t;return[n-e-t,e]},fastTwoSum:function(n,t){const e=n+t;return[t-(e-n),e]},split:function(n){const t=134217729*n,e=t-(t-n);return[e,n-e]},twoDiff:gn,twoProduct:pn,twoSum:K,reduceSignificand:x,fastExpansionSum:D,eAdd:Dn,growExpansion:J,eAddDouble:J,expansionProduct:j,eMult:j,scaleExpansion:A,eMultDouble1:A,scaleExpansion2:F,eMultDouble2:F,eDiv:function(n,t,e){let r=t,o=n,u=!1,c=0;e||(c=R(o)-R(r)+1,e=c/53+1,u=!0);let s=[1/G(r)],i=1;for(;;){if(o=Y(o,s),i>e)return u?(o=H(o,c),o):o.slice(o.length-e,o.length);r=Y(r,s),s=U([2],r),i*=2}},eLongDivide:fn,eIntDiv:function(n,t){return ln(n,t).div},eRem:function(n,t){return an(n,t).rem},eCompress:I,eEstimate:B,eDiff:V,eNegativeOf:$,eMultBy2:function(n){const t=[];for(let e=0;e<n.length;e++)t.push(2*n[e]);return t},eMultByNeg2:function(n){const t=[];for(let e=0;e<n.length;e++)t.push(-2*n[e]);return t},eDivBy2:function(n){const t=[];for(let e=0;e<n.length;e++)t.push(.5*n[e]);return t},eSign:g,eCompare:function(n,t){return g(V(n,t))},eAbs:function(n){return n[n.length-1]<0?hn(n):n},eToBitlength:P,eIntPow:function(n,t){if(0===t)return[1];if(1===t)return n;if(2===t)return En(n,n);const e=[];for(let r=0;r<t;r++)e.push(n);return Sn(e)},eCalculate:function(n){let t=[0];for(let e=0;e<n.length;e++){const r=n[e];let o=r[0];for(let n=1;n<r.length;n++){const t=r[n];o=1==t.length?1===o.length?mn(o[0],t[0]):Nn(o,t[0]):1===o.length?Nn(t,o[0]):bn(t,o)}t=1===o.length?1===t.length?vn(t[0],o[0]):Tn(t,o[0]):1===t.length?Tn(o,t[0]):wn(t,o)}return t},eSum:Z,eProduct:xn,eToDd:function(n){const t=(n=Pn(n)).length;return 2===t?n:1===t?[0,n[0]]:[n[t-2],n[t-1]]},parseDouble:m,parseDoubleDetailed:function(n){const t=p(n),[,e,r,o]=t.match(/^(.)(.{11})(.{52})$/),u=0===parseInt(r,2)?"0":"1";return{full:e+r+u+o,sign:e,exponent:r,hidden:u,significand:o}},isBitAligned:function(n,t,e){if(0===n)return!0;const r=M(n),o=y(n)-52+r;return T(n)-52+r>=e&&o<=t-1+e},msbExponent:O,lsbExponent:function(n){if(0===n||!Number.isFinite(n))return NaN;const t=M(n);return T(n)-52+t},bitLength:function(n){return 0===n?0:y(n)-T(n)+1},expBitLength:q,doubleToBinaryString:p,doubleToOctets:d,getHighestSetBit:y,getLowestSetBit:T,exponent:M,significand:N,orient2d:function(n,t,e){const r=(n[0]-e[0])*(t[1]-e[1]),o=(n[1]-e[1])*(t[0]-e[0]),u=r-o;let c;if(r>0){if(o<=0)return u;c=r+o}else{if(!(r<0))return u;if(o>=0)return u;c=-r-o}return Math.abs(u)>=3330669073875472e-31*c?u:function(n,t,e,r){const o=n[0]-e[0],u=t[0]-e[0],c=n[1]-e[1],s=t[1]-e[1],i=V(pn(o,s),pn(c,u));let f=B(i);if(Math.abs(f)>=2220446049250315e-31*r)return f;const l=gn(n[0],e[0])[0],a=gn(t[0],e[0])[0],h=gn(n[1],e[1])[0],g=gn(t[1],e[1])[0];if(0===l&&0===h&&0===a&&0===g)return f;const d=1109335647967049e-46*r+3330669073875471e-31*Math.abs(f);if(f+=o*g+s*l-(c*a+u*h),Math.abs(f)>=d)return f;const p=D(i,V(pn(l,s),pn(h,u))),b=D(p,V(pn(o,g),pn(c,a)));let m=D(b,V(pn(l,g),pn(h,a)));return m=I(m),m[m.length-1]}(n,t,e,c)},isAdjacent:function(n,t){return Bn(n,t)||Bn(n,2*t)||Bn(2*n,t)},isNonOverlappingAll:function(n){for(let t=1;t<n.length;t++)if(Bn(n[t-1],n[t]))return!1;return!0},eIsInteger:function(n){n=I(n);for(let t=0;t<n.length;t++)if(n[t]%1!=0)return!1;return!0}};Number.EPSILON;const An=134217729;Number.EPSILON,Number.EPSILON;const Fn=function(n,t){const e=n[0],r=n[1],o=t[0],u=t[1],c=r+u,s=c-r,i=e+o,f=i-e,l=r-(c-s)+(u-s)+i,a=c+l,h=e-(i-f)+(o-f)+(l-(a-c)),g=a+h;return[h-(g-a),g]},zn=function(n,t){const e=n[0],r=n[1],o=t[0],u=t[1],c=r-u,s=c-r,i=e-o,f=i-e,l=r-(c-s)+(-u-s)+i,a=c+l,h=e-(i-f)+(-o-f)+(l-(a-c)),g=a+h;return[h-(g-a),g]},_n=Number.EPSILON/2;function jn(n){const t=n*_n;return t/(1-t)}function $n(n){const t=n[0][0],e=n[0][1];for(let r=1;r<n.length;r++)if(t!==n[r][0]||e!==n[r][1])return!1;return!0}jn(1);const Cn=V,kn=g,Vn=K,{abs:qn}=Math,Yn=pn,Hn=D,Rn=g,Un=V,Gn=Number.EPSILON/2,Jn=Math.abs,{orient2d:Kn}=Ln;function Qn(n){if(4===n.length)return 0===Kn(n[0],n[1],n[2])&&0===Kn(n[1],n[2],n[3])&&0===Kn(n[0],n[2],n[3]);if(3===n.length)return 0===Kn(n[0],n[1],n[2]);if(n.length<=2)return!0;throw new Error("The given bezier curve must be of order <= 3.")}const Wn=A,Xn=V,Zn=K,nt=g,tt=Math.abs;const et=Math.abs,rt=jn(1),ot=gn,ut=K,ct=F,st=J,it=Dn;const ft=j,lt=D,at=V,{eSign:ht,eCompare:gt}=Ln,dt=V,pt=j,bt=F,mt=function(n,t){const e=n-t,r=n-e;return[n-(e+r)+(r-t),e]},Nt=function(n,t){const e=n+t,r=e-n;return[n-(e-r)+(t-r),e]},vt=D,Tt=J,wt=Math.abs,yt=jn(1),Mt={order:0,realOrder:0,collinear:!0,nodeType:"n/a"},Ot={order:1,realOrder:1,collinear:!0,nodeType:"n/a"},It={order:1,realOrder:0,collinear:!0,nodeType:"n/a"},xt={order:2,realOrder:2,collinear:!1,nodeType:"n/a"},Et={order:2,realOrder:2,collinear:!0,nodeType:"n/a"},St={order:2,realOrder:1,collinear:!0,nodeType:"n/a"},Pt={order:2,realOrder:0,collinear:!0,nodeType:"n/a"},Bt={order:3,realOrder:3,collinear:!1,nodeType:"crunode"},Dt={order:3,realOrder:3,collinear:!1,nodeType:"acnode"},Lt={order:3,realOrder:3,collinear:!1,nodeType:"cusp"},At={order:3,realOrder:3,collinear:!1,nodeType:"explicit"},Ft={order:3,realOrder:3,collinear:!0,nodeType:"n/a"},zt={order:3,realOrder:2,collinear:!1,nodeType:"n/a"},_t={order:3,realOrder:2,collinear:!0,nodeType:"n/a"},jt={order:3,realOrder:1,collinear:!0,nodeType:"n/a"},$t={order:3,realOrder:0,collinear:!0,nodeType:"n/a"};function Ct(n){if(4===n.length)return function(n){const[[t,e],[r,o],[u,c],[s,i]]=n,f=s+3*r,l=t+3*u,a=f-l,h=Jn(3*r)+Jn(f)+(Jn(3*u)+Jn(l))+Jn(a);if(Jn(a)-Gn*h>0)return!1;const g=i+3*o,d=e+3*c,p=g-d,b=Jn(3*o)+Jn(g)+(Jn(3*c)+Jn(d))+Jn(p);return!(Jn(p)-Gn*b>0)&&0===Rn(Un(Hn([s],Yn(3,r)),Hn([t],Yn(3,u))))&&0===Rn(Un(Hn([i],Yn(3,o)),Hn([e],Yn(3,c))))}(n)?function(n){if(!Qn(n))return!1;const[t,e,r,o]=n,[u,c]=t,[s,i]=e,[f,l]=r,[a,h]=o,g=Xn(Wn(Zn(s/4,f/4),3),Zn(u/4,a/4)),d=Xn(Wn(Zn(i/4,l/4),3),Zn(c/4,h/4));return 0===nt(Xn(Zn(u/2,a/2),g))&&0===nt(Xn(Zn(c/2,h/2),d))}(n)?$n(n)?$t:jt:Qn(n)?_t:zt:Qn(n)?Ft:function(n){const{coeffs:[t,e,r],errBound:[o,u,c]}=function(n){const{coeffs:[[t,e,r],[o,u,c]],errorBound:[[s,i],[f,l]]}=function(n){const[[t,e],[r,o],[u,c],[s,i]]=n,f=s-t,l=r-u,a=f+3*l,h=u+t,g=h-2*r,d=r-t,p=i-e,b=o-c,m=p+3*b,N=c+e,v=N-2*o,T=o-e;return{coeffs:[[a,3*g,3*d,t],[m,3*v,3*T,e]],errorBound:[[tt(f)+6*tt(l)+tt(a),6*(tt(h)+tt(g)),6*tt(d),0],[tt(p)+6*tt(b)+tt(m),6*(tt(N)+tt(v)),6*tt(T),0]]}}(n),a=et(t),h=et(e),g=et(r),d=et(o),p=et(u),b=et(c),m=e*o,N=t*u,v=t*c,T=r*o,w=e*c,y=r*u,M=i*d+h*f+et(m),O=s*p+a*l+et(N),I=s*b+et(v),x=g*f+et(T),E=i*b+et(w),S=g*l+et(y),P=m-N,B=et(P),D=M+O+B,L=T-v,A=et(L),F=x+I+A,z=w-y,_=et(z),j=E+S+_,$=P*P,C=P*L,k=z*P,V=L*L,q=k+V;return{coeffs:[$,C,q],errBound:[2*D*B+et($),D*A+B*F+et(C),j*B+_*D+et(k)+(2*A*F+et(V))+et(q)].map((n=>rt*n))}}(n);if(wt(t)<=o){const[[t,e],[r,o],[u,c],[s,i]]=n,f=vt(mt(s,t),bt(3,mt(r,u))),l=Tt(Nt(u,t),-2*r),a=vt(mt(i,e),bt(3,mt(o,c))),h=Tt(Nt(c,e),-2*o),g=pt(l,a),d=pt(f,h);if(0===gt(g,d))return At}const s=e*e,i=4*t*r,f=s-i,l=2*u*wt(e)+yt*s+(4*(o*wt(r)+wt(t)*c)+yt*wt(i))+yt*wt(f);if(f<-l)return Dt;if(f>l)return Bt;const[a,h,g]=function(n){const[[t,e,r],[o,u,c]]=function(n){const[[t,e],[r,o],[u,c],[s,i]]=n;return[[it(ot(s,t),ct(3,ot(r,u))),ct(3,st(ut(u,t),-2*r)),ct(3,ot(r,t)),[t]],[it(ot(i,e),ct(3,ot(o,c))),ct(3,st(ut(c,e),-2*o)),ct(3,ot(o,e)),[e]]]}(n),s=ft(e,o),i=ft(t,u),f=ft(t,c),l=ft(r,o),a=ft(e,c),h=ft(r,u),g=at(s,i),d=at(l,f),p=at(a,h),b=ft(g,g),m=ft(g,d),N=ft(g,p),v=ft(d,d);return[b,m,lt(N,v)]}(n),d=dt(pt(h,h),bt(4,pt(a,g))),p=ht(d);return p<0?Dt:p>0?Bt:Lt}(n);if(3===n.length)return Qn(n)?function(n){const[[t,e],[r,o],[u,c]]=n,s=t+u,i=s-2*r,f=qn(s)+qn(i);if(qn(i)-f>0)return!1;const l=e+c,a=l-2*o,h=qn(l)+qn(a);return!(qn(a)-h>0)&&0===kn(Cn(Vn(t,u),[2*r]))&&0===kn(Cn(Vn(e,c),[2*o]))}(n)?$n(n)?Pt:St:Et:xt;if(2===n.length)return $n(n)?It:Ot;if(1===n.length)return Mt;throw new Error("The given bezier curve must be of order <= 3")}const kt=function(n,t){const e=n*t,r=An*n,o=r-(r-n),u=n-o,c=An*t,s=c-(c-t),i=t-s;return[u*i-(e-o*s-u*s-o*i),e]},Vt=Fn,qt=zn,{atan2:Yt}=Math;function Ht(n,t){const e=n[0],r=n[1],o=t[0],u=t[1],c=qt(kt(u,e),kt(o,r))[1],s=Vt(kt(o,e),kt(u,r))[1];return Yt(c,s)}const{abs:Rt}=Math;function Ut(n){const t=[];for(let e=0;e<n.length-1;e++){const r=[n[e+1][0]-n[e][0],n[e+1][1]-n[e][1]];0!==(0!==r[0]||r[1])&&t.push(r)}const e=t.length;let r=0;for(let n=0;n<e-1;n++)r+=Rt(Ht(t[n],t[n+1]));return r}const Gt=function(n,t,e){return 0===t?1===e?n:function(n,t){const e=n[0],r=n[1],o=n[2],u=n[3],c=e[0],s=e[1],i=r[0],f=r[1],l=o[0],a=o[1],h=c-t*(c-i),g=i-t*(i-l),d=h-t*(h-g),p=s-t*(s-f),b=f-t*(f-a),m=p-t*(p-b);return[[c,s],[h,p],[d,m],[d-t*(d-(g-t*(g-(l-t*(l-u[0]))))),m-t*(m-(b-t*(b-(a-t*(a-u[1])))))]]}(n,e):1===e?function(n,t){const e=n[0],r=n[1],o=n[2],u=n[3],c=e[0],s=e[1],i=r[0],f=r[1],l=o[0],a=o[1],h=u[0],g=u[1],d=c-t*(c-i),p=i-t*(i-l),b=l-t*(l-h),m=d-t*(d-p),N=p-t*(p-b),v=s-t*(s-f),T=f-t*(f-a),w=a-t*(a-g),y=v-t*(v-T),M=T-t*(T-w);return[[m-t*(m-N),y-t*(y-M)],[N,M],[b,w],[h,g]]}(n,t):function(n,t,e){const r=n[0],o=n[1],u=n[2],c=n[3],s=r[0],i=r[1],f=o[0],l=o[1],a=u[0],h=u[1],g=t*t,d=t*g,p=e*e,b=e*p,m=t*e,N=s-f,v=a-f,T=N+v,w=t*N,y=e*N,M=c[0]-s-3*v,O=i-l,I=h-l,x=O+I,E=t*O,S=e*O,P=c[1]-i-3*I;return[[d*M+(3*t*(t*T-N)+s),d*P+(3*t*(t*x-O)+i)],[m*(t*M+2*T)+(g*T+s-(y+2*w)),m*(t*P+2*x)+(g*x+i-(S+2*E))],[m*(e*M+2*T)+(p*T+s-(2*y+w)),m*(e*P+2*x)+(p*x+i-(2*S+E))],[b*M+(3*e*(e*T-N)+s),b*P+(3*e*(e*x-O)+i)]]}(n,t,e)},Jt=function(n,t,e){return 0===t?1===e?n:function(n,t){const e=n[0],r=n[1],o=n[2],u=e[0],c=e[1],s=r[0],i=r[1],f=t*t,l=u-s,a=c-i;return[[u,c],[-t*l+u,-t*a+c],[f*(l+(o[0]-s))-(2*t*l-u),f*(a+(o[1]-i))-(2*t*a-c)]]}(n,e):1===e?function(n,t){const e=n[0],r=n[1],o=n[2],u=e[0],c=e[1],s=r[0],i=r[1],f=o[0],l=o[1],a=t*t,h=u-s,g=f-s,d=c-i,p=l-i;return[[a*(h+g)-(2*t*h-u),a*(d+p)-(2*t*d-c)],[t*g+s,t*p+i],[f,l]]}(n,t):function(n,t,e){const r=n[0],o=n[1],u=n[2],c=r[0],s=r[1],i=o[0],f=o[1],l=t*t,a=e*e,h=t*e,g=c-i,d=g+(u[0]-i),p=s-f,b=p+(u[1]-f);return[[l*d-(2*t*g-c),l*b-(2*t*p-s)],[h*d-(g*(e+t)-c),h*b-(p*(e+t)-s)],[a*d-(2*e*g-c),a*b-(2*e*p-s)]]}(n,t,e)},Kt=function(n,t,e){return 0===t?1===e?n:function(n,t){const e=n[0],r=n[1],o=e[0],u=e[1];return[[o,u],[t*(r[0]-o)+o,t*(r[1]-u)+u]]}(n,e):1===e?function(n,t){const e=n[0],r=n[1],o=e[0],u=e[1],c=r[0],s=r[1];return[[t*(c-o)+o,t*(s-u)+u],[c,s]]}(n,t):function(n,t,e){const r=n[0],o=n[1],u=r[0],c=r[1],s=o[0],i=o[1];return[[t*(s-u)+u,t*(i-c)+c],[e*(s-u)+u,e*(i-c)+c]]}(n,t,e)};function Qt(n,t,e){if(4===n.length)return Gt(n,t,e);if(3===n.length)return Jt(n,t,e);if(2===n.length)return Kt(n,t,e);if(1===n.length)return n;throw new Error("The given bezier curve must be of order <= 3.")}function Wt(n){return function(n){for(let t=1;t<n.length;t++)if(n[t-1]>n[t])return!1;return!0}(n)||function(n){for(let t=1;t<n.length;t++)if(n[t-1]<n[t])return!1;return!0}(n)}const{sqrt:Xt}=Math;function Zt(n,t=1.125,e=4){const r=Ct(n);return r.collinear?function(n){if(!Qn(n))return!1;const t=n.map((n=>n[0])),e=n.map((n=>n[1]));return!(Wt(t)&&Wt(e))}(n)?Number.POSITIVE_INFINITY:0:3===r.realOrder?"cusp"===r.nodeType?Number.POSITIVE_INFINITY:ne(te,n,t,e):2===r.realOrder?ne(ee,n,t,e):0}function ne(n,t,e,r){const o=function(n,t=.4,e=2**-16){const r={r:[0,1]};let o=r;for(;void 0!==o;){const r=o.r;if(Ut(Qt(n,r[0],r[1]))<=t||r[1]-r[0]<=e){o=o.next;continue}const u=(r[0]+r[1])/2,c=[r[0],u],s=[u,r[1]];o.r=c,o.next={r:s,next:o.next}}o=r;const u=[];for(;void 0!==o;)u.push(o.r[0]),void 0===o.next&&u.push(o.r[1]),o=o.next;return u}(t,e);let u=0;for(let e=0;e<o.length-1;e++)u+=a(n(Qt(t,o[e],o[e+1])),[0,1],r);return u}function te(n){const t=n[0],e=n[1],r=n[2],o=n[3],u=t[0],c=t[1],s=e[0],i=e[1],f=r[0],l=r[1],a=o[0],h=o[1],g=a-u+3*(s-f),d=h-c+3*(i-l),p=f+u-2*s,b=l+c-2*i;return n=>{const t=n*n,e=t*g+2*n*p+(s-u),r=t*d+2*n*b+(i-c),o=e*(n*d+b)-r*(n*g+p),f=e*e+r*r;return 4/3*o*o/(f*f*Xt(f))}}function ee(n){const t=n[0],e=n[1],r=n[2],o=t[0],u=t[1],c=e[0],s=e[1],i=r[0],f=r[1],l=i-2*c+o,a=f-2*s+u;return n=>{const t=l*n+(c-o),e=a*n+(s-u),r=t*a-e*l,i=t*t+e*e;return.5*r*r/(i*i*Xt(i))}}const{cos:re,sin:oe}=Math;function ue(n){const{α:t,β:r,s0:u,s1:c,L:s,rot:i,p:f}=n;return function(n){const t=n[0].length;if(4===t){const[[t,e,r,o],[u,c,s,i]]=n;return[[o,i],[o+r/3,i+s/3],[o+2*r/3+e/3,i+2*s/3+c/3],[o+r+e+t,i+s+c+u]]}if(3===t){const[[t,e,r],[o,u,c]]=n;return[[r,c],[r+e/2,c+u/2],[r+e+t,c+u+o]]}if(2===t){const[[t,e],[r,o]]=n;return[[e,o],[e+t,o+r]]}if(1===t){const[[t],[e]]=n;return[[t,e]]}throw new Error("The given bezier curve must be of order <= 3.")}([[s*(u*re(t)-2+c*re(r)),s*(3-2*u*re(t)-c*re(r)),s*(u*re(t)),0*s],[s*(u*oe(t)+c*oe(r)),s*(-2*u*oe(t)-c*oe(r)),s*(u*oe(t)),0*s]]).map(o(oe(i),re(i))).map(e(f))}function ce(n){return t=>{const[e,r]=se(t,n);return Zt(r)+Zt(e)}}function se(n,t){const{ϕ:e}=t,r=t._info,o=r.$ps,u=t.$ps,c=ue({...o,β:n-e,s0:1,s1:1}),s=ue({...u,α:n,s0:1,s1:1});{const n=r.ps,e=t.ps;return[[n[0],c[1],c[2],n[3]],[e[0],s[1],s[2],e[3]]]}}const{PI:ie}=Math,fe=ie,le=.0625,[ae,he]=[1,1],ge=4;function de(n,t){return[t[0]-n[0],t[1]-n[1]]}const{min:pe,max:be,PI:me,atan2:Ne,sin:ve,cos:Te}=Math,we={has:function(n,t,e){const r=n.get(t);return void 0!==r&&r.has(e)},add:function(n,t,e){let r=n.get(t);void 0===r&&(r=new Set,n.set(t,r)),r.add(e)},remove:function(n,t,e){let r=n.get(t);return void 0!==r&&!!r.delete(e)&&(0===r.size&&n.delete(t),!0)}};function ye(n){const t=function(n){const t=n.length,u=[];for(let n=0;n<t;n++)u.push({});for(let i=0;i<t;i++){const f=(i-1+t)%t,l=(i+1)%t,a=u[f],h=u[i],g=u[l];h._info=a,h.info_=g;const d=n[f],p=n[i],b=n[l],m=(s=b,-Ht(de(d,c=p),de(c,s)));h.ϕ=m;const N=[be(-fe,m-fe),pe(+fe,m+fe)];h.range=N;const v=e(r(p))(b),[T,w]=[v[0],v[1]],y=Ne(w,T),M=o(ve(-y),Te(-y))(v)[0];h.L=M,h.rot=y,h.p=p}var c,s;for(let n=0;n<t;n++){const t=u[n],{ϕ:e,info_:r,p:o,L:c,rot:s}=t,i=e/2,f={α:i,β:-r.ϕ/2,p:o,L:c,rot:s,s0:ae,s1:he},l=ue(f);t.ps=[o,l[1],l[2],r.p],t.$ps=f,t.l=i-me*le,t.m=i,t.r=i+me*le}return u}(function(n){const t=new Map;for(const e of n)we.add(t,e[0],e[1]);const e=[];for(const r of n)we.has(t,r[0],r[1])&&(e.push(r),we.remove(t,r[0],r[1]));return e}(n)),u=t.length;for(let n=0;n<ge;n++)for(let n=0;n<u;n++){const e=t[n],r=e._info,o=ce(e);let u,{l:c,m:s,r:i}=e,f=o(c),a=o(s),h=o(i);for(;;){if(({l:c,m:s,r:i}=e),u=(i-c)/2,f>=a&&a<=h){e.l=s-u/2,e.r=s+u/2;break}f<=a&&a<=h?(e.l=c-u,e.m=c,e.r=s,h=a,a=f,f=o(e.l)):f>=a&&a>=h?(e.l=s,e.m=i,e.r=i+u,f=a,a=h,h=o(e.r)):f<=a&&a>=h&&(e.l=c-u,e.m=c,e.r=s,h=a,a=f,f=o(e.l))}const g=e.m,[d,p]=se(g,e);e.ps=p,e.$ps=l(p),r.ps=d,r.$ps=l(d)}return t.map((n=>n.ps))}function Me(n,t,e,r){const o=t.slice(),u=r.slice(),c=n.length,s=c-1,i=c-2,f=c-3,l=[];l[0]=-n[0];for(let t=1;t<s;t++){if(0===o[t-1])return;const r=n[t]/o[t-1];o[t]-=r*e[t-1],u[t]-=r*u[t-1],l[t]=-r*l[t-1]}if(l[i]-=e[i],0===o[i])return;u[i]/=o[i],l[i]/=o[i];for(let n=f;n>=0;n--){if(0===o[n])return;u[n]=(u[n]-e[n]*u[n+1])/o[n],l[n]=(l[n]-e[n]*l[n+1])/o[n]}u[s]-=e[s]*u[0]+n[s]*u[i];const a=o[s]+e[s]*l[0]+n[s]*l[i];if(0!==a){u[s]/=a;for(let n=0;n<s;n++)u[n]+=l[n]*u[s];return u}}function Oe(n){const t=n.length,r=[...Array(t)].map((n=>1)),o=[...Array(t)].map((n=>4)),c=[...Array(t)].map((n=>1)),s=[];for(let r=0;r<t;r++){const o=r+1===t?0:r+1;s.push(u(e(u(n[r],2),n[o]),2))}const i=Me(r,o,c,s.map((n=>n[0]))),f=Me(r,o,c,s.map((n=>n[1]))),l=[];for(let r=0;r<t;r++){const o=r+1===t?0:r+1;l.push(e(u(n[o],2),[-i[o],-f[o]]))}const a=[];for(let e=0;e<t;e++){const r=e+1===t?0:e+1;a.push([n[e],[i[e],f[e]],l[e],n[r]])}return a}var Ie=t.j,xe=t.a;export{Ie as cubicBeziersThroughPoints,xe as cubicBeziersThroughPoints_C2};